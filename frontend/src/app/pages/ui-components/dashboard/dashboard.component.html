<div class="row"  *ngIf="!isLoading">
	<div class="col-lg-12">
		<div class="row">
			<div class="col-lg-3 col-sm-3">
				<mat-card class="cardWithShadow">
					<mat-card-content class="p-24">
						<mat-card-title>Total Barangays</mat-card-title>
						<div class="row m-t-24">
							<div class="col-7">
								<h4 class="mat-headline-5" *ngIf="barangays">{{ barangays.length }}</h4>
								<div class="d-flex align-items-center m-t-16">
									<div class="mat-body-1 m-l-4">Barangays</div>
								</div>
							</div>
						</div>
					</mat-card-content>
				</mat-card>
			</div>
			<div class="col-lg-3 col-sm-3">
				<mat-card class="cardWithShadow">
					<mat-card-content class="p-24">
						<mat-card-title>Cases</mat-card-title>
						<div class="row m-t-24">
							<div class="col-7">
								<h4 class="mat-headline-5"> {{ totalCases }}</h4>
								<div class="d-flex align-items-center m-t-16">
									<div class="mat-body-1 m-l-4">&nbsp;</div>
								</div>
							</div>
						</div>
					</mat-card-content>
				</mat-card>
			</div>
			<div class="col-lg-3 col-sm-3">
				<mat-card class="cardWithShadow">
					<mat-card-content class="p-24">
						<mat-card-title>VAW Cases</mat-card-title>
						<div class="row m-t-24">
							<div class="col-7">
								<h4 class="mat-headline-5">{{ totalVawCaseSubmitted }}/30 </h4>
								<div class="d-flex align-items-center m-t-16">
									<div class="mat-body-1 m-l-4" style="cursor: pointer;" (click)="view('vaw')">View</div>
								</div>
							</div>
						</div>
					</mat-card-content>
				</mat-card>
			</div>
			<div class="col-lg-3 col-sm-3">
				<mat-card class="cardWithShadow">
					<mat-card-content class="p-24">
						<mat-card-title>VAC Cases</mat-card-title>
						<div class="row m-t-24">
							<div class="col-7">
								<h4 class="mat-headline-5">{{ totalVacCaseSubmitted }}/30 </h4>
								<div class="d-flex align-items-center m-t-16">
									<div class="mat-body-1 m-l-4" style="cursor: pointer;" (click)="view('vac')">View</div>
								</div>
							</div>
						</div>
					</mat-card-content>
				</mat-card>
			</div>
			<!-- <div class="col-lg-3 col-sm-3">
				<mat-card class="cardWithShadow">
					<mat-card-content class="p-24">
						<mat-card-title>Files</mat-card-title>
						<div class="row m-t-24">
							<div class="col-7">
								<h4 class="mat-headline-5">200</h4>
								<div class="d-flex align-items-center m-t-16">
									<div class="mat-body-1 m-l-4">Files</div>
								</div>
							</div>
						</div>
					</mat-card-content>
				</mat-card>
			</div> -->
		</div>
	</div>
	<div class="col-lg">
		<mat-card class="cardWithShadow">
			<mat-card-content class="p-24">
				<div class="d-flex w-100">
					<div class="m-l-auto" *ngIf="currentUserRole === 'super admin'">
						<mat-form-field class="theme-select" appearance="outline">
							<mat-select [(ngModel)]="currentBarangay" (selectionChange)="onBarangayChange($event)">
								<mat-option value="All">All</mat-option>
								<mat-option *ngFor="let brgy of barangays" [value]="brgy.name">
									{{ brgy.name }}
								</mat-option>
							</mat-select>
						</mat-form-field>
					</div>
					<div class="m-l-auto" *ngIf="currentUserRole !== 'super admin'">
						{{ currentBarangay }}
					</div>
				</div>
				<div class="d-flex w-100">
					<div class="m-l-auto">
						<div class="m-l-auto">
							<mat-radio-group [(ngModel)]="selectedReportType" (change)="onReportTypeChange($event)">
								<mat-radio-button *ngFor="let type of reportType" [value]="type">
									{{ type }}
								</mat-radio-button>
							</mat-radio-group>
						</div>
					</div>
				</div>
				<div class="d-flex w-100" *ngIf="selectedReportType === 'Year'">
					<mat-card-title>This Year's Cases</mat-card-title>
				</div>
				<div class="d-flex w-100" *ngIf="selectedReportType === 'Monthly'">
					<mat-card-title >Monthly Cases</mat-card-title>
					<div class="m-l-auto">
						<mat-form-field class="theme-select" appearance="outline">
							<mat-select value="{{ currentMonth }}" (selectionChange)="initializeMonthlyChart($event.value)">
								<mat-option *ngFor="let month of months" [value]="month.value">
									{{ month.viewValue }}
								</mat-option>
							</mat-select>
						</mat-form-field>
					</div>
				</div>
				<div class="d-flex w-100" *ngIf="selectedReportType === 'Quarterly'">
					<mat-card-title >Quarterly Cases</mat-card-title>
					<div class="m-l-auto">
						<mat-form-field class="theme-select" appearance="outline">
							<mat-select value="Q1" (selectionChange)="initializeQuarterlyChart($event.value)">
								<mat-option *ngFor="let q of quarterNames" [value]="q">
									{{ q }}
								</mat-option>
							</mat-select>
						</mat-form-field>
					</div>
				</div>
				<apx-chart 
					*ngIf="salesOverviewChart && selectedReportType === 'Year'"
					[series]="salesOverviewChart.series" 
					[dataLabels]="salesOverviewChart.dataLabels"
					[chart]="salesOverviewChart.chart" 
					[legend]="salesOverviewChart.legend"
					[xaxis]="salesOverviewChart.xaxis" 
					[yaxis]="salesOverviewChart.yaxis"
					[grid]="salesOverviewChart.grid" 
					[stroke]="salesOverviewChart.stroke"
					[tooltip]="salesOverviewChart.tooltip" 
					[plotOptions]="salesOverviewChart.plotOptions"
				></apx-chart>
				<apx-chart
					*ngIf="salesOverviewChartMonthly && selectedReportType === 'Monthly'"
					[series]="salesOverviewChartMonthly.series" 
					[dataLabels]="salesOverviewChartMonthly.dataLabels"
					[chart]="salesOverviewChartMonthly.chart" 
					[legend]="salesOverviewChartMonthly.legend"
					[xaxis]="salesOverviewChartMonthly.xaxis" 
					[yaxis]="salesOverviewChartMonthly.yaxis"
					[grid]="salesOverviewChartMonthly.grid" 
					[stroke]="salesOverviewChartMonthly.stroke"
					[tooltip]="salesOverviewChartMonthly.tooltip" 
					[plotOptions]="salesOverviewChartMonthly.plotOptions"
				></apx-chart>
				<apx-chart
					*ngIf="salesOverviewChartQuarterly && selectedReportType === 'Quarterly'"
					[series]="salesOverviewChartQuarterly.series" 
					[dataLabels]="salesOverviewChartQuarterly.dataLabels"
					[chart]="salesOverviewChartQuarterly.chart" 
					[legend]="salesOverviewChartQuarterly.legend"
					[xaxis]="salesOverviewChartQuarterly.xaxis" 
					[yaxis]="salesOverviewChartQuarterly.yaxis"
					[grid]="salesOverviewChartQuarterly.grid" 
					[stroke]="salesOverviewChartQuarterly.stroke"
					[tooltip]="salesOverviewChartQuarterly.tooltip" 
					[plotOptions]="salesOverviewChartQuarterly.plotOptions"
				></apx-chart>
			</mat-card-content>
		</mat-card>
	</div>
</div>
<div class="b-t-1 p-0 full-screen-container" *ngIf="isLoading">
	<div class="mat-elevation-z8">
		<div class="row">
			<div class="col">
				<mat-spinner></mat-spinner>
			</div>
		</div>
	</div>
</div>